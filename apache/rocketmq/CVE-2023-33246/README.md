# RocketMQ CVE-2023-33246 Testbed

## Start the service

### Vulnerable instance
```bash
docker compose -f docker-compose-vulnerable.yml up 
```

### Secure instance
```bash
docker compose -f docker-compose-secure.yml up
```

## Check if the instance is vulnerable
You can use the scripts from the following repository to check whether a RocketMQ instance is vulnerable: https://github.com/Malayke/CVE-2023-33246_RocketMQ_RCE_EXPLOIT.

Here are some examples.
### Simple version-based check
```bash
python3 check.py --ip <IP>
```
The python script will output a message with the detected version and the exploitability.
### Test with out-of-bound callback
```bash
 python3 CVE-2023-33246_RocketMQ_RCE_EXPLOIT.py <IP> <PORT> 'curl <CANARY_URL>'
```

## References:
https://vulncheck.com/blog/rocketmq-exploit-payloads