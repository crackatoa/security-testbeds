FROM ubuntu:22.04
RUN mkdir /workdir
WORKDIR /workdir
RUN apt update  \
    && apt install curl python3.11 python3-pip python3.11-venv -y
ARG BENTOML_VERSION
RUN pip3 install bentoml==${BENTOML_VERSION}
COPY workdir/bentofile.yaml .
COPY workdir/create.py .
COPY workdir/service.py .
RUN python3 create.py
CMD bentoml build
CMD bentoml start-runner-server --runner-name simple_model --working-dir . --host 0.0.0.0 --port 3000
